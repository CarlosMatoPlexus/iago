<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Salesforce Chatbot</title>
	<style>
		/* Bot贸n flotante circular */
		#chat-button {
			position: fixed;
			bottom: 20px;
			right: 20px;
			width: 60px;
			height: 60px;
			background-color: #0070d2;
			color: white;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			cursor: pointer;
			z-index: 1000;
		}

		#chat-button:hover {
			background-color: #005bb5;
		}

		/* Ventana del chatbot */
		#chat-container {
			position: fixed;
			bottom: 90px;
			right: 20px;
			width: 300px;
			height: 400px;
			background-color: white;
			border: 1px solid #ccc;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			display: none;
			z-index: 1000;
		}
	</style>
</head>

<body>
	<!-- Bot贸n para abrir el chatbot -->
	<div id="chat-button" onclick="toggleChat()"></div>
	<!-- Contenedor para el chatbot -->
	<div id="chat-container"></div>
	<script type="text/javascript">
		// Funci贸n para cargar scripts din谩micamente
		function loadScript(url, callback) {
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.src = url;
			script.onload = callback;
			script.onerror = function () {
				console.error('Error al cargar el script:', url);
			};
			document.head.appendChild(script);
		}
		// Funci贸n para inicializar el chatbot
		function initEmbeddedMessaging() {
			if (typeof embeddedservice_bootstrap === 'undefined') {
				console.error('embeddedservice_bootstrap no est谩 definido.');
				return;
			}
			try {
				console.log('Inicializando embeddedservice_bootstrap...');
				embeddedservice_bootstrap.settings.language = 'es_MX';
				embeddedservice_bootstrap.init(
					'00D7Z000000AGdW',
					'Iago',
					'https://ouvacdepourense--ouvacqa.sandbox.my.site.com/ESWIago1727356051668',
					{
						scrt2URL: 'https://ouvacdepourense--ouvacqa.sandbox.my.salesforce-scrt.com'
					}
				);
			} catch (err) {
				console.error('Error loading Embedded Messaging:', err);
			}
		}
		// Funci贸n para mostrar u ocultar el chatbot
		function toggleChat() {
			var chatContainer = document.getElementById('chat-container');
			if (chatContainer.style.display === 'none' || chatContainer.style.display === '') {
				chatContainer.style.display = 'block';
			} else {
				chatContainer.style.display = 'none';
			}
		}
		// Carga el script de Salesforce y luego inicializa el chatbot
		loadScript(
			'https://ouvacdepourense--ouvacqa.sandbox.my.site.com/ESWIago1727356051668/assets/js/bootstrap.min.js',
			initEmbeddedMessaging
		);
	</script>
</body>

</html>
